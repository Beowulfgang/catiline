{"ts":1355029186286,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"function communist(path){\n\tvar _this = this;\n\t_this.path = path || getPath(document.location.href);\n\tvar cbs={};\n\tvar w='worker.js';\n\t_this.worker = new Worker(w);\n\t_this.worker.onmessage = function(event){\n\tvar cb = cbs[event.data[0]];\n\tvar data = event.data[1];\n\tcb(data);\n\tdelete cbs[event.data[0]];\n\t}\n\t_this.send = function(func,data,cb){\n\tvar r = Math.random()+\"\";\n\tcbs[r]=cb;\n\t\t_this.worker.postMessage([func,data,r]);\n\t}\n\t_this.addLib=function(url){\n\t\t_this.send(\"_addLib\",_this.path+url,function(d){console.log(d)});\n\t}\n\tgetPath(url){\n\t\tvar index = url.indexOf('index.html');\n\t\tvar ourl;\n    \tif (index != -1) {\n      \t\tourl = url.substring(0, index);\n    \t}else{ourl=url};\n    \treturn ourl;\n\t}\n};\n\n"]],"start1":0,"start2":0,"length1":0,"length2":708}]],"length":708}
{"contributors":[],"silentsave":false,"ts":1355030485514,"patch":[[{"diffs":[[-1,"function"],[1,"var"],[0," communi"]],"start1":0,"start2":0,"length1":16,"length2":11},{"diffs":[[0,"nist"],[-1,"(path){\n\tvar _this = this;\n\t_this.path = path || getPath(document.location.href);\n\tvar cbs={};\n\tvar w='worker.js';\n\t_this.worker = new Worker(w);\n\t_this.worker.on"],[1," = function(fun){\n    if(typeof fun === \"function\"){\n        window.URL = window.URL || window.webkiURL;\n        var func = fun.toString();\n        var body = \"var f = \" + func + \"self.addEventListener('"],[0,"message"],[-1," ="],[1,"',"],[0," fun"]],"start1":9,"start2":9,"length1":179,"length2":220},{"diffs":[[0,"on(e"],[-1,"vent){\n\t"],[1,") {self.postMessage(f(data.e))});\n        "],[0,"var "],[-1,"c"],[1,"blo"],[0,"b = "],[-1,"cbs[event.data[0]];\n\tvar data = event.data[1];\n\tcb(data);\n\tdelete cbs[event.data[0]];\n\t}\n\t_this"],[1,"new Blob([body]);\n        var bUrl = = window.URL.createObjectURL(blob);\n        _worker = new Worker(bUrl);\n        this.prototype"],[0,".sen"]],"start1":232,"start2":232,"length1":120,"length2":192},{"diffs":[[0,"unction("],[-1,"func,"],[0,"data,cb)"]],"start1":429,"start2":429,"length1":21,"length2":16},{"diffs":[[0,"b){\n"],[-1,"\tvar r = Math.random()+\"\";\n\tcbs[r]=cb;\n\t\t_this.worker.postMessage([func,data,r]);\n\t}\n\t_this.addLib=function(url){\n\t\t_this.send(\"_addLib\",_this.path+url,"],[1,"        _worker.postMessage(data);\n  \n             worker.onmessage = "],[0,"func"]],"start1":443,"start2":443,"length1":160,"length2":78},{"diffs":[[0,"ion("],[-1,"d){console.log(d"],[1,"e){cb(e.data"],[0,")}"],[-1,")"],[0,";\n"],[-1,"\t}\n\tgetPath(url){\n\t\tvar index = url.indexOf('index.html');\n\t\tvar ourl;\n    \tif (index != -1) {\n      \t\tourl = url.substring(0, index);\n    \t}else{ourl=url};\n    \treturn ourl;\n\t}\n};\n\n"],[1,"             return;\n       \n        \n        }\n        this.prototype.close = function(){\n            _worker.terminate()\n        }\n    }\n}"]],"start1":522,"start2":522,"length1":207,"length2":160}]],"length":682,"saved":false}
